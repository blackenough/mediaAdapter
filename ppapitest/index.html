<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<head>
 <script type="text/javascript">
     
    function GetId(){
        alert("get id from native by extensions: " + app.GetId());
     }  
	 
	 function init(){
		document.getElementById("roomid").disabled=true;
		document.getElementById("studentid").disabled=true;
		document.getElementById("teacherid").disabled=true;
		document.getElementById("identify").disabled=true;
		document.getElementById("init").disabled=true;
		
		var identify=parseInt(document.getElementById("identify").value);
		
		var pluginTarget = document.getElementById('pluginTarget');
	  var embed;
	  if(identify==1 || identify==2)
	  {

		embed = document.createElement('embed');
		embed.id = 'video_remote';
		embed.type = 'application/x-ppapi-stub';
		embed.width = 200;
		embed.height = 200;
		pluginTarget.appendChild(embed);
		
		embed = document.createElement('embed');
		embed.id = 'video_local';
		embed.type = 'application/x-ppapi-stub';
		embed.width = 200;
		embed.height = 200;
		pluginTarget.appendChild(embed);
	  }
	  else
	  {
		embed = document.createElement('embed');
		embed.id = 'video_remote_teh';
		embed.type = 'application/x-ppapi-stub';
		embed.width = 200;
		embed.height = 200;
		pluginTarget.appendChild(embed);

		embed = document.createElement('embed');
		embed.id = 'video_remote_stu';
		embed.type = 'application/x-ppapi-stub';
		embed.width = 200;
		embed.height = 200;
		pluginTarget.appendChild(embed);
	  }
			
			  
			
		
	 }
	  
	function join()
	{
		var roomid=document.getElementById("roomid").value;

		var studentid=document.getElementById("studentid").value;
		var teacherid=document.getElementById("teacherid").value;
		var identify=document.getElementById("identify").value;
		window.native_join(roomid,parseInt(studentid),parseInt(teacherid),parseInt(identify),10);
		
	}
	function leave()
	{
		window.native_leave();
	}
	
	function ipcToStudent()
	{
	window.native_remote(parseInt(document.getElementById("studentid").value))
	}
	
	function ipcToTeacher()
	{
	window.native_remote(parseInt(document.getElementById("teacherid").value))
	}
	
    </script>
  <title>stub</title>
</head>

<body>
<div id="pluginTarget">
       <!--  <embed id='video_remote_admin' type="application/x-ppapi-stub" width='200' height='200'>
		<embed id='video_remote' type="application/x-ppapi-stub" width='200' height='200'>
		<embed id='video_local' type="application/x-ppapi-stub" width='100' height='100'>-->
      </div>

<br>
roomid:<br>
<input type="text" name="a" id="roomid" value="abc123">
<br>
studentid:<br>
<input type="text" name="studentid"  id="studentid" value="1001">
<br>
teacherid:<br>
<input type="text" name="teacherid"  id="teacherid" value="2001">
<br>
identify:1学生2老师3IT监控4家长<br>
<input type="text" name="identify" id="identify" value="3">
<br>
<br>
<br>
<button id='init' onclick="init()">init</button>
<button onclick="join()">join</button>
<button onclick="leave()">leave</button>

</body>
</html>